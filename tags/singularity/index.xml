<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>singularity | icaoberg AT github DOT io</title>
    <link>http://icaoberg.github.io/tags/singularity/</link>
      <atom:link href="http://icaoberg.github.io/tags/singularity/index.xml" rel="self" type="application/rss+xml" />
    <description>singularity</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>Copyright Â© 2006-2020 icaoberg AT github DOT io</copyright><lastBuildDate>Tue, 07 Jan 2020 08:00:00 +0000</lastBuildDate>
    <image>
      <url>http://icaoberg.github.io/img/icon-192.png</url>
      <title>singularity</title>
      <link>http://icaoberg.github.io/tags/singularity/</link>
    </image>
    
    <item>
      <title>gotop</title>
      <link>http://icaoberg.github.io/post/singularity-gotop/</link>
      <pubDate>Tue, 07 Jan 2020 08:00:00 +0000</pubDate>
      <guid>http://icaoberg.github.io/post/singularity-gotop/</guid>
      <description>

&lt;p&gt;&lt;img src=&#34;./logo.png&#34; alt=&#34;Logo&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/cjbassi/gotop&#34; target=&#34;_blank&#34;&gt;gotop&lt;/a&gt; is a very useful app that use all the time in our department cluster. Even though I have root privileges in our HPC cluster, I&amp;rsquo;d rather do my computing as a regular user. It keeps you in check and forces me to think like a power/regular user.&lt;/p&gt;

&lt;p&gt;&lt;iframe src=&#34;https://giphy.com/embed/HoffxyN8ghVuw&#34; width=&#34;480&#34; height=&#34;275&#34; frameBorder=&#34;0&#34; class=&#34;giphy-embed&#34; allowFullScreen&gt;&lt;/iframe&gt;&lt;br&gt;&lt;strong&gt;Figure 1&lt;/strong&gt;. Writing the scripts and running the commands.&lt;/p&gt;

&lt;p&gt;Hence, I use &lt;a href=&#34;https://github.com/cjbassi/gotop&#34; target=&#34;_blank&#34;&gt;gotop&lt;/a&gt; in a Singularity container.&lt;/p&gt;

&lt;h2 id=&#34;source-code&#34;&gt;Source code&lt;/h2&gt;

&lt;p&gt;You can find the recipe to build the container &lt;a href=&#34;https://github.com/icaoberg/singularity-gotop&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To facilitate the building your container, you will find two &lt;strong&gt;simple&lt;/strong&gt; scripts in the repository&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rbuild.sh&lt;/code&gt;. Builds the image remotely and then pulls it down locally. You will need access to &lt;a href=&#34;https://cloud.sylabs.io/builder&#34; target=&#34;_blank&#34;&gt;SyLabs.io Remote Builder&lt;/a&gt; to do this. Getting access to the Remote Builder is beyond the scope of this post.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;build.sh&lt;/code&gt;. Builds the image locally. &lt;strong&gt;WARNING&lt;/strong&gt;: you will need root privileges to build the container locally.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;building-the-image-locally&#34;&gt;Building the image locally&lt;/h3&gt;

&lt;p&gt;The script &lt;code&gt;build.sh&lt;/code&gt; looks like&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/bash

IMAGE=singularity-gotop.simg
DEFINITION=Singularity

if [ -f $IMAGE ]; then
	rm -fv $IMAGE
fi

sudo singularity build $IMAGE $DEFINITION
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To build the image locally simply run&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;bash ./build.sh
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The output should look similar to&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://asciinema.org/a/292285&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://asciinema.org/a/292285.svg&#34; alt=&#34;asciicast&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I built this image in Ubuntu 18.04 using Singularity version 3.4.0.&lt;/p&gt;

&lt;h3 id=&#34;building-the-image-remotely&#34;&gt;Building the image remotely&lt;/h3&gt;

&lt;p&gt;The script &lt;code&gt;rbuild.sh&lt;/code&gt; looks like&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/bash

IMAGE=singularity-gotop.simg
DEFINITION=Singularity

if [ -f $IMAGE ]; then
	rm -fv $IMAGE
fi

singularity build --remote $IMAGE $DEFINITION
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you notice, there isn&amp;rsquo;t much difference between this script and the previous script.&lt;/p&gt;

&lt;p&gt;To build the image remotely simply run&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;bash ./rbuild.sh
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The output should look similar to&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://asciinema.org/a/cttCPrVN082jOCFdAUyOi0RsB&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://asciinema.org/a/cttCPrVN082jOCFdAUyOi0RsB.svg&#34; alt=&#34;asciicast&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A note on building remotely. Because my script is simple and straightforward, there are no annotations associated with this build. If you were to take a look at my profile in &lt;a href=&#34;https://cloud.sylabs.io/library/icaoberg&#34; target=&#34;_blank&#34;&gt;SyLabs.io&lt;/a&gt; you will notice there is a new project associated with the script above&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;./screenshot.png&#34; alt=&#34;Screenshot&#34; /&gt;&lt;/p&gt;

&lt;p&gt;This footprint is evidence the image was built remotely. Also notice the download number is 1. This is because running the remote command builds the container and then downloads it locally.&lt;/p&gt;

&lt;h2 id=&#34;running-gotop&#34;&gt;Running gotop&lt;/h2&gt;

&lt;p&gt;To run the app in the container, simply run&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;singularity exec singularity-gotop.simg gotop
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The output should look similar to&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://asciinema.org/a/292294&#34; target=&#34;_blank&#34;&gt;&lt;img src=&#34;https://asciinema.org/a/292294.svg&#34; alt=&#34;asciicast&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The image size is ~95Mb which is small in relation to the benefits of using the command on demand.&lt;/p&gt;

&lt;p&gt;&lt;iframe src=&#34;https://giphy.com/embed/ddHhhUBn25cuQ&#34; width=&#34;480&#34; height=&#34;270&#34; frameBorder=&#34;0&#34; class=&#34;giphy-embed&#34; allowFullScreen&gt;&lt;/iframe&gt;&lt;br&gt;&lt;strong&gt;Figure 2&lt;/strong&gt;. Celebrating the image was built correctly and I can run gotop.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>browsh</title>
      <link>http://icaoberg.github.io/post/singularity-browsh/</link>
      <pubDate>Sun, 13 Oct 2019 01:19:33 -0400</pubDate>
      <guid>http://icaoberg.github.io/post/singularity-browsh/</guid>
      <description>&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;Just created and pushed an image to &lt;a href=&#34;https://twitter.com/SylabsIO?ref_src=twsrc%5Etfw&#34;&gt;@SylabsIO&lt;/a&gt; cloud for &lt;a href=&#34;https://twitter.com/brow_sh?ref_src=twsrc%5Etfw&#34;&gt;@brow_sh&lt;/a&gt;, an amazing fully-modern text-based browser developed by &lt;a href=&#34;https://twitter.com/twombh?ref_src=twsrc%5Etfw&#34;&gt;@twombh&lt;/a&gt; &lt;a href=&#34;https://t.co/0FxdxDqO8U&#34;&gt;pic.twitter.com/0FxdxDqO8U&lt;/a&gt;&lt;/p&gt;&amp;mdash; justahappygeek (@justahappygeek) &lt;a href=&#34;https://twitter.com/justahappygeek/status/1183250309612789765?ref_src=twsrc%5Etfw&#34;&gt;October 13, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;


&lt;p&gt;Here is the deal, I have been using &lt;a href=&#34;http://lynx.browser.org/&#34; target=&#34;_blank&#34;&gt;Lynx&lt;/a&gt; since forever. Just because. However today I found about &lt;a href=&#34;https://www.brow.sh/&#34; target=&#34;_blank&#34;&gt;browsh&lt;/a&gt;. What a joyous moment!&lt;/p&gt;

&lt;p&gt;Finally a browser I would feel happy running on the HPC cluster. As always, I think Singularity is the best way to deploy tools like this for larger machines (especially if you are a user without root privileges).&lt;/p&gt;

&lt;p&gt;Enjoy!&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/icaoberg/singularity-browsh&#34; target=&#34;_blank&#34;&gt;GitHub source code repository&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://cloud.sylabs.io/library/icaoberg/default/browsh&#34; target=&#34;_blank&#34;&gt;SyLabs.io Cloud image repository&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>CellOrganizer for Singularity</title>
      <link>http://icaoberg.github.io/post/singularity-retweet-ceo/</link>
      <pubDate>Sat, 21 Sep 2019 00:20:50 -0400</pubDate>
      <guid>http://icaoberg.github.io/post/singularity-retweet-ceo/</guid>
      <description>&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;I have been using Matlab for about 18 years to do anything and everything. Currently, I am using it to develop &lt;a href=&#34;https://twitter.com/CellOrganizer?ref_src=twsrc%5Etfw&#34;&gt;@CellOrganizer&lt;/a&gt; along with CellOrganizer for &lt;a href=&#34;https://twitter.com/ProjectJupyter?ref_src=twsrc%5Etfw&#34;&gt;@ProjectJupyter&lt;/a&gt; on  &lt;a href=&#34;https://twitter.com/Docker?ref_src=twsrc%5Etfw&#34;&gt;@docker&lt;/a&gt;, CellOrganizer for &lt;a href=&#34;https://twitter.com/galaxyproject?ref_src=twsrc%5Etfw&#34;&gt;@galaxyproject&lt;/a&gt; and CellOrganizer on &lt;a href=&#34;https://twitter.com/SingularityApp?ref_src=twsrc%5Etfw&#34;&gt;@SingularityApp&lt;/a&gt;. All part of &lt;a href=&#34;https://twitter.com/MMBioS?ref_src=twsrc%5Etfw&#34;&gt;@MMBioS&lt;/a&gt; &lt;a href=&#34;https://t.co/qSUGxgmeAX&#34;&gt;pic.twitter.com/qSUGxgmeAX&lt;/a&gt;&lt;/p&gt;&amp;mdash; justahappygeek (@justahappygeek) &lt;a href=&#34;https://twitter.com/justahappygeek/status/1174705344339161089?ref_src=twsrc%5Etfw&#34;&gt;September 19, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;


&lt;p&gt;P.S. I got retweeted by the official Singularity account on Twitter as well as their CEO. What a time to be alive.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
